<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="styles/typography.css">
    <link rel="stylesheet" type="text/css" href="styles/button.css">
	<link rel="stylesheet" type="text/css" href="CodeMirror/lib/codemirror.css">
	<script src="CodeMirror/lib/codemirror.js" type="text/javascript"></script>
	<script src="CodeMirror/mode/scheme/scheme.js" type="text/javascript"></script>
	<link rel="stylesheet" type="text/css" href="CodeMirror/theme/eclipse.css">
    <script src="hash.js" type="text/javascript"></script>
    <script src="simplescheme.js" type="text/javascript"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js" type="text/javascript"></script>
    <meta name="author" content="Mike Vollmer, http://recurial.com">
    <title>simplescheme.js</title>
    
    <script type="text/javascript">
$(function() {
  var change_code = function(s) { editor.setValue(s); }
  $.get("samples/default.scm", change_code);
  $('#input').submit(function(e) {
    var input_text = $('#input_text').val()
    var output_array = parse(input_text);
    var output_text = '';
    $.each(output_array, function(index, value) {
      output_text += value + "<br>";
    });
    $('#output').html(output_text);
    e.preventDefault();
    return false;
  });
  $("#Samples").change(function() {
	var selected = $("#Samples").val();
    var file = "samples/" + ($("#Samples option:selected").text() + ".scm").toLowerCase();
    $.get(file, change_code);
  });
});
    </script>
    <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-1325016-10']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

    </script>
    <style  type="text/css">
	  #output { height: 300px; overflow:auto; }
	</style>
  </head>

  <body>
    <div style="width: 790px; padding: 15px; margin-left: auto; margin-right: auto;">
      <h1>simplescheme.js</h1>
      <h3>A minimal Lisp interpreter written in Javascript.</h3>
      <p>This is a simple <a href="http://en.wikipedia.org/wiki/Lisp_%28programming_language%29">Lisp</a>
	  interpreter I wrote for Javascript. 
      It supports lambda functions and a few primitive operations 
      (read the source or the readme for more information).</p>
      <p>This page is an example use of simplescheme.js: it takes 
      the scheme code written in the left-hand box, and (once the
      <em>eval</em> button is pressed) interprets it and prints the
      result in the right-hand panel.</p>
      <p>For more info (and the source code) for simplescheme.js,
      <a href="https://github.com/probabilityZero/simplescheme.js"
      title="simplescheme.js on github">look it up on Github</a>.
      <div style="width: 555px; float: left;">
        <h2>Input</h2>
        <form id="input" action="javascript: return false;">
          <textarea rows="20" cols="55" id="input_text" style="font-family: 'Droid Sans Mono', 'Courier New', Courier, monospace;">
          </textarea>
          <div style="float:left; width:200px;">
			<select id="Samples">
				<option value="1">Default</option>
				<option value="2">Math</option>
				<option value="3">Functions</option>
                <option value="4">Hanoi</option>
                <option value="5">Kitchen_sink</option>
			</select>
		  </div>
		  <div style="float:right; width:150px; text-align:right;">
			<input style="margin-right:0;" class="g-button" type="submit" value="eval">
		  </div>
		  <div style="clear:both'"></div>
        </form>
      </div>
      <div style="width: 225px; float: right;">
        <h2 style="padding-left: 5px;">Output</h2>
		<pre id="output" style="padding-left: 5px; background: #eee; font-family: 'Droid Sans Mono', 'Courier New', Courier, monospace;"></pre>
      </div>
      <div style="clear:both;"></div>
      <footer style="margin-top:15px;">
        <hr>
        <p style="text-align:center;">Created by <strong><a href="http://recurial.com" title="My blog">Mike Vollmer</a></strong>. All code is open source under the <a href="http://www.gnu.org/copyleft/gpl.html" title="General Public License">GPL</a>.</p>
      </footer>
    </div>
    <script>
var editor = CodeMirror.fromTextArea(document.getElementById("input_text"), {
  mode: "text/x-scheme",
  lineNumbers: true,
  matchBrackets: true,
  theme: 'eclipse'
});
	</script>
  </body>
</html> 
